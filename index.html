<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hamburgueria - Vídeo de Fundo</title>
<link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:'Poppins', sans-serif;}
/* vídeo */
#bg-video{position:fixed;right:0;bottom:0;min-width:100%;min-height:100%;width:auto;height:auto;z-index:-1;object-fit:cover;filter: brightness(0.6);}

/* botão play para mobile (aparece se autoplay não funcionar) */
.play-video-btn{
  display:none;
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  z-index:60;
  background:rgba(0,0,0,0.6);
  color:#fff;
  border:none;
  padding:12px 16px;
  border-radius:999px;
  font-size:1rem;
  cursor:pointer;
  box-shadow:0 8px 25px rgba(0,0,0,0.6);
}

/* HERO */
.hero{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;height:60vh;color:white;text-align:center;padding:2rem;}
.logo{width:180px;height:auto;margin-bottom:1.5rem;}
h1{font-family:'Permanent Marker', cursive;font-size:clamp(2.5rem,5vw,5rem);color:#FFD54F;text-shadow:2px 2px 8px rgba(0,0,0,0.7);}

/* AVISO VISUAL */
.notice{
  max-width:1000px;
  margin: 1rem auto;
  background: linear-gradient(90deg, rgba(255,213,79,0.12), rgba(255,87,34,0.05));
  border: 1px solid rgba(255,213,79,0.18);
  color: #FFF;
  padding: 12px 18px;
  border-radius: 12px;
  text-align:center;
  font-weight:600;
  box-shadow: 0 6px 20px rgba(0,0,0,0.35);
}

/* restante do CSS */
.menu-section{display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:1.5rem;padding:2rem;max-width:1000px;margin:0 auto 3rem;}
.card{background:rgba(255,255,255,0.1);border-radius:16px;overflow:hidden;backdrop-filter: blur(6px);box-shadow:0 8px 25px rgba(0,0,0,0.5);color:white;transition:transform 0.3s ease, box-shadow 0.3s ease;}
.card:hover{transform:translateY(-6px);box-shadow:0 12px 35px rgba(0,0,0,0.6);}
.card img{width:100%;height:180px;object-fit:cover;}
.card-content{padding:1rem 1.2rem 1.5rem;}
.card h2{font-family:'Permanent Marker', cursive;color:#FFEE58;font-size:1.5rem;margin-bottom:.5rem;}
.card p{font-size:1rem;margin-bottom:.8rem;opacity:0.9;}
.price{font-weight:600;font-size:1.1rem;margin-bottom:1rem;color:#FFF;}
.btn-add{background:#FF5722;border:none;color:white;padding:.6rem 1.2rem;border-radius:8px;font-weight:600;cursor:pointer;transition:background 0.3s;}
.btn-add:hover{background:#E64A19;}

/* carrinho fixo */
.cart-icon{position: fixed;bottom: 20px;right: 20px;background: rgba(255, 255, 255, 0.15);border-radius: 50%;padding: 12px;cursor: pointer;z-index: 100;backdrop-filter: blur(5px);transition: transform .2s, background .2s;}
.cart-icon:hover{transform: scale(1.1); background: rgba(255,255,255,0.25);}
.cart-icon img{width:35px;height:35px;}
.cart-count{position:absolute;top:6px;right:6px;background:#FF5722;color:white;border-radius:50%;font-size:0.8rem;padding:2px 6px;font-weight:bold;}

/* painel lateral */
.cart-panel{position:fixed;bottom:0;right:-350px;width:300px;height:60%;background:rgba(0,0,0,0.95);color:white;box-shadow:-5px 0 15px rgba(0,0,0,0.5);transition:right 0.3s ease;padding:1.5rem;z-index:99;display:flex;flex-direction:column;border-top-left-radius:15px;border-top-right-radius:15px;}
.cart-panel.open{right:0;}
.cart-panel h2{font-family:'Permanent Marker', cursive;color:#FFD54F;margin-bottom:1rem;}
.cart-items{flex-grow:1;overflow-y:auto;margin-bottom:1rem;}
.cart-item{display:flex;justify-content:space-between;margin-bottom:.8rem;font-size:.9rem;}
.cart-total{font-weight:bold;margin-bottom:1rem;text-align:right;}
.btn-checkout{background:#FF5722;border:none;color:white;padding:.8rem;border-radius:8px;font-weight:600;cursor:pointer;}

/* modal customização */
#customModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:200;justify-content:center;align-items:center;}
#customModal .modal-content{background:#fff;color:#000;width:90%;max-width:480px;border-radius:12px;padding:20px;max-height:90%;overflow-y:auto;position:relative;}
#customModal h2{font-family:'Permanent Marker', cursive;color:#FF5722;}
#customModal button.close-modal{position:absolute;top:10px;right:10px;background:red;color:white;border:none;border-radius:50%;width:25px;height:25px;cursor:pointer;}
#customModal button.confirm{background:#FF5722;color:#fff;padding:10px 15px;border:none;border-radius:8px;font-weight:bold;cursor:pointer;width:100%;}

/* aviso dentro do modal */


/* controles de quantidade para carnes */
.meat-list{margin-bottom:12px;}
.meat-row{display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(0,0,0,0.05);}
.meat-info{flex:1}
.meat-controls{display:flex;align-items:center;gap:8px}
.qty-btn{background:#eee;border:none;padding:6px 10px;border-radius:6px;cursor:pointer;font-weight:700}
.qty-display{min-width:28px;text-align:center;font-weight:700}



/* MENU HORIZONTAL 3D - PRETO E DOURADO */
.menu-scroll {
  display: flex;
  overflow-x: auto;
  white-space: nowrap;
  background: #000; /* fundo preto */
  padding: 15px 10px;
  border-radius: 20px;
  margin: 20px auto;
  max-width: 95%;
  box-shadow: 0 8px 20px rgba(0,0,0,0.5);
  scroll-behavior: smooth;
  transform: perspective(1000px) rotateX(0deg);
}

.menu-scroll::-webkit-scrollbar {
  height: 10px;
}
.menu-scroll::-webkit-scrollbar-thumb {
  background: #d4af37; /* dourado */
  border-radius: 5px;
}

.menu-scroll button {
  flex: 0 0 auto;
  margin: 0 10px;
  padding: 12px 25px;
  border: none;
  border-radius: 30px;
  background: linear-gradient(145deg, #d4af37, #bfa135); /* dourado gradiente */
  color: #000; /* texto preto */
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
  transition: transform 0.4s, box-shadow 0.4s, background 0.4s;
  box-shadow: 0 5px 15px rgba(0,0,0,0.4);
}

.menu-scroll button:hover {
  transform: translateY(-5px) scale(1.1) rotateX(5deg);
  box-shadow: 0 10px 25px rgba(0,0,0,0.6);
  background: linear-gradient(145deg, #bfa135, #d4af37); /* dourado invertido no hover */
}
</style>
</head>
<body>
    
<video id="bg-video" autoplay muted loop playsinline poster="poster.jpg" aria-hidden="true">
  <source src="video.mp4" type="video/mp4">
</video>

<!-- botão play para mobile (caso autoplay esteja bloqueado) -->
<button class="play-video-btn" id="playVideoBtn">▶ Ver vídeo</button>

<!-- Ícone do carrinho -->
<div class="cart-icon" id="cartIcon">
  <img src="https://cdn-icons-png.flaticon.com/512/833/833314.png" alt="Carrinho">
  <div class="cart-count" id="cartCount">0</div>
</div>

<!-- Painel do carrinho -->
<div class="cart-panel" id="cartPanel">
  <h2>Meu Carrinho</h2>
  <div class="cart-items" id="cartItems"></div>
  <div class="cart-total" id="cartTotal">Total: R$ 0,00</div>
  <button class="btn-checkout">Finalizar Pedido</button>
</div>

<!-- Modal customização -->
<div id="customModal">
  <div class="modal-content">
    <h2>Escolha suas opções</h2>
    <button class="close-modal">×</button>

    <!-- Nota importante dentro do modal -->
    <div class="modal-note">
      Se quiser carnes adicionais, selecione abaixo a(s) carne(s) e a quantidade desejada. Se precisar de mais detalhes, especifique na observação.
    </div>

    <!-- Molhos -->
    <div style="margin-bottom:15px;">
      <h3>Molhos (Escolha 3) <span id="molho-count">0/3</span></h3>
      <label><input type="checkbox" class="option" data-max="3" name="molho" value="Ketchup" data-price="0"> Ketchup</label><br>
      <label><input type="checkbox" class="option" data-max="3" name="molho" value="Mostarda" data-price="0"> Mostarda</label><br>
      <label><input type="checkbox" class="option" data-max="3" name="molho" value="Maionese Verde" data-price="0"> Maionese Verde</label><br>
      <label><input type="checkbox" class="option" data-max="3" name="molho" value="Barbecue" data-price="0"> Barbecue</label><br>
      <label><input type="checkbox" class="option" data-max="3" name="molho" value="Cheddar" data-price="0"> Cheddar</label><br>
      <label><input type="checkbox" class="option" data-max="3" name="molho" value="Requeijão" data-price="0"> Requeijão</label>
    </div>

    <!-- Acréscimos (sem carnes principais, carnes vão na seção "Carnes") -->
    <div style="margin-bottom:15px;">
      <h3>Acréscimos (até 10)</h3>
      <label><input type="checkbox" class="option" data-max="10" name="acrescimo" value="Maionese Verde" data-price="3"> Maionese Verde + R$3,00</label><br>
      <label><input type="checkbox" class="option" data-max="10" name="acrescimo" value="Cheddar" data-price="3.5"> Cheddar + R$3,50</label><br>
      <label><input type="checkbox" class="option" data-max="10" name="acrescimo" value="Mussarela" data-price="3.5"> Mussarela + R$3,50</label><br>
      <label><input type="checkbox" class="option" data-max="10" name="acrescimo" value="Ovo Frito" data-price="2"> Ovo Frito + R$2,00</label><br>
      <label><input type="checkbox" class="option" data-max="10" name="acrescimo" value="Calabresa" data-price="3.5"> Calabresa + R$3,50</label><br>
      <label><input type="checkbox" class="option" data-max="10" name="acrescimo" value="Bacon" data-price="3.5"> Bacon + R$3,50</label><br>
      <label><input type="checkbox" class="option" data-max="10" name="acrescimo" value="Salsicha" data-price="2.5"> Salsicha + R$2,50</label>
    </div>

    <!-- Carnes: aqui o cliente escolhe quantas unidades quiser de cada carne -->
    <div style="margin-bottom:15px;">
      <h3>Carnes </h3>
      <div class="meat-list" id="meatList">
        <!-- cada .meat-row tem data-name e data-price -->
        <div class="meat-row" data-name="Hamburguer industrializado" data-price="0">
          <div class="meat-info">Hamburguer industrializado <small>(incluso)</small></div>
          <div class="meat-controls">
            <button class="qty-btn minus">−</button>
            <div class="qty-display" data-qty>0</div>
            <button class="qty-btn plus">+</button>
            <div style="min-width:80px;text-align:right;margin-left:8px;">R$ <span class="meat-price">0.00</span></div>
          </div>
        </div>

        <div class="meat-row" data-name="Hamburguer Artesanal Carne 100g" data-price="4.00">
          <div class="meat-info">Hamburguer Artesanal Carne 100g</div>
          <div class="meat-controls">
            <button class="qty-btn minus">−</button>
            <div class="qty-display" data-qty>0</div>
            <button class="qty-btn plus">+</button>
            <div style="min-width:80px;text-align:right;margin-left:8px;">R$ <span class="meat-price">4.00</span></div>
          </div>
        </div>

        <div class="meat-row" data-name="Hamburguer Artesanal Frango 100g" data-price="4.00">
          <div class="meat-info">Hamburguer Artesanal Frango 100g</div>
          <div class="meat-controls">
            <button class="qty-btn minus">−</button>
            <div class="qty-display" data-qty>0</div>
            <button class="qty-btn plus">+</button>
            <div style="min-width:80px;text-align:right;margin-left:8px;">R$ <span class="meat-price">4.00</span></div>
          </div>
        </div>

        <div class="meat-row" data-name="Hamburguer Linguiça 100g" data-price="4.00">
          <div class="meat-info">Hamburguer Linguiça 100g</div>
          <div class="meat-controls">
            <button class="qty-btn minus">−</button>
            <div class="qty-display" data-qty>0</div>
            <button class="qty-btn plus">+</button>
            <div style="min-width:80px;text-align:right;margin-left:8px;">R$ <span class="meat-price">4.00</span></div>
          </div>
        </div>

        <div class="meat-row" data-name="Hamburguer Linguiça com queijo 130g" data-price="5.50">
          <div class="meat-info">Hamburguer Linguiça com queijo 130g</div>
          <div class="meat-controls">
            <button class="qty-btn minus">−</button>
            <div class="qty-display" data-qty>0</div>
            <button class="qty-btn plus">+</button>
            <div style="min-width:80px;text-align:right;margin-left:8px;">R$ <span class="meat-price">5.50</span></div>
          </div>
        </div>

        <div class="meat-row" data-name="Frango empanado (stake)" data-price="4.00">
          <div class="meat-info">Frango empanado (stake)</div>
          <div class="meat-controls">
            <button class="qty-btn minus">−</button>
            <div class="qty-display" data-qty>0</div>
            <button class="qty-btn plus">+</button>
            <div style="min-width:80px;text-align:right;margin-left:8px;">R$ <span class="meat-price">4.00</span></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Batatas -->
    <div style="margin-bottom:15px;">
      <h3>Batatas (até 1)</h3>
      <label><input type="radio" name="batata" value="Batata Frita Media" data-price="9.99"> Batata Frita Media + R$9,99</label><br>
      <label><input type="radio" name="batata" value="Batata Frita Cheddar Bacon" data-price="23.99"> Batata Frita Cheddar Bacon + R$23,99</label><br>
      <label><input type="radio" name="batata" value="Batata Maluca M" data-price="24.90"> Batata Maluca M + R$24,90</label>
    </div>

    <!-- Bebidas -->
    <div style="margin-bottom:15px;">
      <h3>Bebidas (até 1)</h3>
      <label><input type="radio" name="bebida" value="Pepsi 350ml" data-price="7"> Pepsi 350ml + R$7,00</label><br>
      <label><input type="radio" name="bebida" value="Coca-Cola 350ml" data-price="7"> Coca-Cola 350ml + R$7,00</label><br>
      <label><input type="radio" name="bebida" value="Fanta Uva 350ml" data-price="7"> Fanta Uva 350ml + R$7,00</label><br>
      <label><input type="radio" name="bebida" value="Guaraná Antarctica" data-price="7"> Guaraná Antarctica + R$7,00</label><br>
      <label><input type="radio" name="bebida" value="Suco Manga 500ml" data-price="15"> Suco Manga 500ml + R$15,00</label><br>
      <label><input type="radio" name="bebida" value="Suco Goiaba 500ml" data-price="15"> Suco Goiaba 500ml + R$15,00</label>
    </div>

    <!-- Comentário -->
    <div style="margin-bottom:15px;">
      <h3>Comentário</h3>
      <textarea id="customComment" style="width:100%;height:60px;border-radius:6px;padding:5px;" placeholder="Algum comentário?"></textarea>
    </div>

    <h3>Preço do item: R$ <span id="itemPrice">0.00</span></h3>
    <button class="confirm">Confirmar</button>
  </div>
</div>


<main>
  <section class="hero">
    <img src="logo.png" alt="Logo" class="logo">
    <h1>Diadorin</h1>
  </section>

  

  <div class="menu-scroll">
  <button data-target="podrao">Podão</button>
  <button data-target="furioso">Furiosos</button>
  <button data-target="pasteis">Pasteis</button>
  <button data-target="batata">Batata</button>
  <button data-target="combopodrao">Combo Podrão</button>
  <button data-target="combo">Combo Hamburguer</button>
  <button data-target="lanches">Lanches</button>
  <button data-target="acompanhamentos">Acompanhamentos</button>
  <button data-target="molhos">Molhos</button>
  <button data-target="sobremesas">Sobremesas</button>
  <button data-target="bebidas">Bebidas</button>
</div>

  <!-- (mantive suas seções originais; copie/cole o restante do conteúdo aqui) -->

  <h2 style="text-align:center;color:#FFD54F;margin-top:2rem;font-family:'Permanent Marker', cursive;">Podrão</h2>
  <section id="podrao"></section>
  <section class="menu-section">
    <div class="card">
      <img src="furioso_egg.jpg" alt="Furioso Egg">
      <div class="card-content">
        <h2>X-Tudo Podrão</h2>
        <p>Pão, carne, bacon, calabresa, ovo, queijo, presunto, alface, tomate, cebola, milho, ervilha, queijo ralado, azeitona, ovo de codorna, batata palha e 3 molhos.</p>
        <div class="price">34,50</div>
        <button class="btn-add">Adicionar</button>
      </div>
    </div>
  </section>

</main>

<script>
/* elementos */
const cartIcon = document.getElementById('cartIcon');
const cartPanel = document.getElementById('cartPanel');
const cartItems = document.getElementById('cartItems');
const cartCount = document.getElementById('cartCount');
const cartTotal = document.getElementById('cartTotal');
const modal = document.getElementById('customModal');
const closeModal = document.querySelector('#customModal .close-modal');
const confirmBtn = document.querySelector('#customModal .confirm');
const addButtons = document.querySelectorAll('.btn-add');
const itemPriceDisplay = document.getElementById('itemPrice');
const playVideoBtn = document.getElementById('playVideoBtn');
const bgVideo = document.getElementById('bg-video');

let cart = [];
let selectedItem = null;

/* ---- Vídeo mobile: se autoplay falhar, botão play aparece e ativa o vídeo ---- */
function tryAutoplayCheck(){
  // Alguns navegadores móveis bloqueiam autoplay mesmo com muted. detectamos se está pausado e mostramos botão.
  setTimeout(()=>{
    if(bgVideo && bgVideo.paused){
      playVideoBtn.style.display = 'block';
    } else {
      playVideoBtn.style.display = 'none';
    }
  }, 600);
}
tryAutoplayCheck();

playVideoBtn.addEventListener('click', ()=>{
  if(bgVideo){
    bgVideo.play().then(()=> {
      playVideoBtn.style.display='none';
    }).catch(()=> {
      // se não der, ainda esconder botão e deixar poster
      playVideoBtn.style.display='none';
    });
  }
});

/* ---- abrir modal customização ---- */
addButtons.forEach(btn => {
  btn.addEventListener('click', e => {
    const card = e.target.closest('.card');
    selectedItem = {
      name: card.querySelector('h2').innerText,
      // aceita preço com vírgula ou ponto
      basePrice: parseFloat(card.querySelector('.price').innerText.replace(',','.')) || 0,
      options:{}, comment:''
    };
    modal.style.display='flex';
    // resetar inputs
    document.querySelectorAll('#customModal input[type="checkbox"]').forEach(i => i.checked=false);
    document.querySelectorAll('#customModal input[type="radio"]').forEach(i => i.checked=false);
    document.getElementById('customComment').value='';
    // resetar quantidades das carnes para 0
    document.querySelectorAll('#meatList .meat-row').forEach(row => {
      row.querySelector('[data-qty]').innerText = '0';
    });
    updateItemPrice();
  });
});

closeModal.addEventListener('click', ()=> modal.style.display='none');

/* ---- controle das quantidades das carnes ---- */
document.querySelectorAll('#meatList .meat-row').forEach(row => {
  const minus = row.querySelector('.minus');
  const plus = row.querySelector('.plus');
  const qtyEl = row.querySelector('[data-qty]');
  minus.addEventListener('click', ()=> {
    let q = parseInt(qtyEl.innerText) || 0;
    if(q>0) q--;
    qtyEl.innerText = q;
    updateItemPrice();
  });
  plus.addEventListener('click', ()=> {
    let q = parseInt(qtyEl.innerText) || 0;
    q++;
    qtyEl.innerText = q;
    updateItemPrice();
  });
});

/* ---- atualizar preço do item (base + acréscimos + carnes x qty + batata/bebida) ---- */
function updateItemPrice(){
  if(!selectedItem) return;
  let price = selectedItem.basePrice || 0;

  // inputs selecionados (acréscimos e molhos)
  document.querySelectorAll('#customModal input:checked').forEach(i => {
    price += parseFloat(i.dataset.price || 0);
  });

  // carnes (multiplica preço pela quantidade)
  document.querySelectorAll('#meatList .meat-row').forEach(row => {
    const qty = parseInt(row.querySelector('[data-qty]').innerText) || 0;
    const p = parseFloat(row.dataset.price || 0);
    price += qty * p;
  });

  itemPriceDisplay.textContent = price.toFixed(2);
}

/* limitar checkbox molhos (max 3) */
document.querySelectorAll('#customModal input[type="checkbox"]').forEach(i=>i.addEventListener('change', ()=>{
  updateItemPrice();
  const max = parseInt(i.dataset.max || 999);
  if(i.type==='checkbox' && i.checked){
    const checked = document.querySelectorAll(`input[name="${i.name}"]:checked`);
    if(checked.length>max) i.checked=false;
  }
}));

/* ---- confirmar customização e adicionar ao carrinho ---- */
confirmBtn.addEventListener('click', ()=>{
  selectedItem.options.molhos = Array.from(document.querySelectorAll('input[name="molho"]:checked')).map(i=>i.value);
  selectedItem.options.acrescimos = Array.from(document.querySelectorAll('input[name="acrescimo"]:checked')).map(i=>i.value);
  selectedItem.options.bebida = document.querySelector('input[name="bebida"]:checked')?.value || null;
  selectedItem.options.batata = document.querySelector('input[name="batata"]:checked')?.value || null;
  selectedItem.comment = document.getElementById('customComment').value;

  // carnes: array de {name, qty, unitPrice}
  const carnes = [];
  document.querySelectorAll('#meatList .meat-row').forEach(row => {
    const qty = parseInt(row.querySelector('[data-qty]').innerText) || 0;
    if(qty > 0){
      carnes.push({
        name: row.dataset.name,
        qty,
        unitPrice: parseFloat(row.dataset.price || 0)
      });
    }
  });
  selectedItem.options.carnes = carnes;

  // total do item
  let total = selectedItem.basePrice || 0;
  document.querySelectorAll('#customModal input:checked').forEach(i => total += parseFloat(i.dataset.price || 0));
  carnes.forEach(c => total += c.unitPrice * c.qty);
  selectedItem.price = total;

  // para juntar itens iguais, precisamos comparar opções (incluindo carnes)
  const existing = cart.find(item => item.name===selectedItem.name && JSON.stringify(item.options)===JSON.stringify(selectedItem.options));
  if(existing) existing.qty++;
  else cart.push({...selectedItem, qty:1});

  updateCart();
  modal.style.display='none';
});

/* abrir/fechar painel do carrinho */
cartIcon.addEventListener('click', ()=> cartPanel.classList.toggle('open'));

/* atualizar carrinho e adicionar botão remover */
function updateCart(){
  cartItems.innerHTML='';
  let total=0;
  cart.forEach((item,index)=>{
    total += item.price*item.qty;
    const div=document.createElement('div');
    div.classList.add('cart-item');

    // construir resumo das carnes e opções para exibir no painel
    let opts = '';
    if(item.options.carnes && item.options.carnes.length){
      opts += 'Carnes: ' + item.options.carnes.map(c => `${c.name} x${c.qty}`).join(', ') + ' — ';
    }
    if(item.options.acrescimos && item.options.acrescimos.length){
      opts += 'Acréscimos: ' + item.options.acrescimos.join(', ') + ' — ';
    }
    if(item.options.molhos && item.options.molhos.length){
      opts += 'Molhos: ' + item.options.molhos.join(', ') + ' — ';
    }
    if(item.options.bebida) opts += 'Bebida: ' + item.options.bebida + ' — ';
    if(item.options.batata) opts += 'Batata: ' + item.options.batata + ' — ';
    if(item.comment) opts += 'Obs: ' + item.comment;

    div.innerHTML=`
      <div style="flex:1;">
        <div style="font-weight:700;">${item.name} x${item.qty}</div>
        <div style="font-size:0.85rem;opacity:0.9;margin-top:4px;">${opts}</div>
      </div>
      <div style="text-align:right;">
        <div>R$ ${(item.price*item.qty).toFixed(2)}</div>
        <button class="remove-btn" data-index="${index}" style="background:red;color:white;border:none;border-radius:4px;padding:2px 5px;margin-top:6px;cursor:pointer;">×</button>
      </div>
    `;
    cartItems.appendChild(div);
  });
  cartCount.textContent = cart.reduce((acc,i)=>acc+i.qty,0);
  cartTotal.textContent = 'Total: R$ '+total.toFixed(2);

  // adicionar evento remover
  document.querySelectorAll('.remove-btn').forEach(btn=>{
    btn.addEventListener('click', e=>{
      const i = e.target.dataset.index;
      cart.splice(i,1);
      updateCart();
    });
  });
}

/* finalizar pedido */
document.querySelector('.btn-checkout').addEventListener('click', () => {
  if(cart.length===0){
    alert('Seu carrinho está vazio!');
    return;
  }

  let mensagem = 'Olá! Gostaria de fazer o pedido:%0A%0A'; // usar %0A para quebra de linha segura no wa
  cart.forEach(item => {
    mensagem += `${item.name} x${item.qty}%0A`;
    if(item.options.carnes && item.options.carnes.length) mensagem += `Carnes: ${item.options.carnes.map(c=>`${c.name} x${c.qty}`).join(', ')}%0A`;
    if(item.options.acrescimos && item.options.acrescimos.length) mensagem += `Acréscimos: ${item.options.acrescimos.join(', ')}%0A`;
    if(item.options.molhos && item.options.molhos.length) mensagem += `Molhos: ${item.options.molhos.join(', ')}%0A`;
    if(item.options.batata) mensagem += `Batata: ${item.options.batata}%0A`;
    if(item.options.bebida) mensagem += `Bebida: ${item.options.bebida}%0A`;
    if(item.comment) mensagem += `Observação: ${item.comment}%0A`;
    mensagem += `Preço: R$ ${(item.price*item.qty).toFixed(2)}%0A%0A`;
  });

  let total = cart.reduce((acc, i) => acc + i.price*i.qty, 0);
  mensagem += `Total do pedido: R$ ${total.toFixed(2)}%0A%0A`;



  const telefone = '5511911653936';
  const url = `https://wa.me/${telefone}?text=${mensagem}`;
  window.open(url, '_blank');
});

/* Scroll suave para cada seção */
document.querySelectorAll('.menu-scroll button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const target = document.getElementById(btn.getAttribute('data-target'));
    if(target) target.scrollIntoView({behavior:'smooth',block:'start'});
  });
});
</script>

</body>
</html>
